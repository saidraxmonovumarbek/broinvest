<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BroInvest â€¢ Nexus-class Private Digital Asset Investment Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #000000;
            --bg-alt: #0a0a0a;
            --text: #e5e5e5;
            --text-muted: #a1a1aa;
            --accent: #00f5ff;
            --accent-dark: #00b8c4;
            --secondary: #7c3aed;
            --green: #22c55e;
            --red: #ef4444;
            --border: #27272a;
            
            --font-main: 'Inter', system-ui, -apple-system, sans-serif;
            
            --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 72px;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 48px;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -0.02em;
            color: var(--accent);
        }

        nav {
            margin-left: auto;
            display: flex;
            gap: 32px;
        }

        nav a {
            color: var(--text-muted);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: var(--transition);
            position: relative;
        }

        nav a:hover {
            color: var(--text);
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 1px;
            background: var(--accent);
            transition: var(--transition);
        }

        nav a:hover::after {
            width: 100%;
        }

        main {
            padding-top: 72px;
        }

        section {
            padding: 120px 48px;
            border-bottom: 1px solid var(--border);
        }

        h2 {
            font-size: 42px;
            font-weight: 700;
            letter-spacing: -0.03em;
            margin-bottom: 24px;
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 48px;
            height: 3px;
            background: var(--accent);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* HERO */
        #hero {
            height: 100vh;
            min-height: 800px;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            padding: 0 48px;
        }

        #hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            opacity: 0.15;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            max-width: 720px;
        }

        .hero-content h1 {
            font-size: 68px;
            font-weight: 700;
            letter-spacing: -0.04em;
            line-height: 1.05;
            margin-bottom: 24px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        .hero-content h1.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .value-prop {
            font-size: 21px;
            color: var(--text-muted);
            margin-bottom: 48px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1) 0.2s;
        }

        .value-prop.visible {
            opacity: 1;
            transform: translateY(0);
        }

        #aum {
            font-size: 48px;
            font-weight: 700;
            letter-spacing: -0.02em;
            margin-bottom: 48px;
            font-feature-settings: "tnum";
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1) 0.4s;
        }

        #aum.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .aum-label {
            font-size: 14px;
            color: var(--text-muted);
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .cta-buttons {
            display: flex;
            gap: 16px;
            opacity: 0;
            transform: translateY(40px);
            transition: all 1s cubic-bezier(0.25, 0.1, 0.25, 1) 0.6s;
        }

        .cta-buttons.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .btn {
            padding: 16px 32px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: var(--accent);
            color: #000;
        }

        .btn-primary:hover {
            background: #fff;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        /* LIVE MARKET */
        #market-overview .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 48px;
        }

        .coin-card {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            transition: var(--transition);
        }

        .coin-card:hover {
            border-color: var(--accent);
            transform: translateY(-4px);
        }

        .coin-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .coin-symbol {
            font-size: 18px;
            font-weight: 700;
        }

        .coin-price {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .change {
            font-size: 14px;
            font-weight: 600;
        }

        .positive { color: var(--green); }
        .negative { color: var(--red); }

        .sparkline-container {
            height: 48px;
            margin-top: 12px;
        }

        canvas.sparkline {
            width: 100%;
            height: 100%;
        }

        /* FEAR & GREED */
        .gauge-container {
            width: 240px;
            height: 240px;
            margin: 48px auto;
            position: relative;
        }

        .gauge {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
        }

        .gauge-inner {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            bottom: 20px;
            background: var(--bg-alt);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .gauge-value {
            font-size: 72px;
            font-weight: 700;
            line-height: 1;
        }

        .gauge-class {
            font-size: 18px;
            font-weight: 600;
            margin-top: 8px;
        }

        .historical-bars {
            display: flex;
            gap: 4px;
            height: 120px;
            align-items: flex-end;
            margin-top: 48px;
        }

        .hist-bar {
            flex: 1;
            background: var(--accent);
            border-radius: 4px 4px 0 0;
            transition: var(--transition);
            position: relative;
        }

        .hist-bar::after {
            content: attr(data-date);
            position: absolute;
            bottom: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            color: var(--text-muted);
            white-space: nowrap;
        }

        /* PORTFOLIO */
        .portfolio-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            margin-top: 48px;
        }

        .donut-container {
            width: 280px;
            height: 280px;
            position: relative;
        }

        canvas.donut {
            width: 100%;
            height: 100%;
        }

        .allocation-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .alloc-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .alloc-bar {
            height: 6px;
            background: var(--accent);
            border-radius: 9999px;
            flex: 1;
            margin: 0 16px;
        }

        /* PERFORMANCE */
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 48px;
            margin-top: 48px;
        }

        .chart-container {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 24px;
            height: 320px;
            position: relative;
        }

        canvas.performance-chart {
            width: 100%;
            height: 100%;
        }

        /* STRATEGY */
        .strategy-steps {
            display: flex;
            flex-direction: column;
            gap: 48px;
            margin-top: 48px;
        }

        .step {
            display: flex;
            gap: 32px;
            align-items: flex-start;
        }

        .step-number {
            width: 48px;
            height: 48px;
            background: var(--accent);
            color: #000;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        /* SECURITY */
        .security-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 32px;
            margin-top: 48px;
        }

        .security-item {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 32px;
        }

        /* TEAM */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 32px;
            margin-top: 48px;
        }

        .team-card {
            background: var(--bg-alt);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
        }

        .team-avatar {
            width: 96px;
            height: 96px;
            background: var(--secondary);
            border-radius: 50%;
            margin: 0 auto 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: 700;
            color: #fff;
        }

        /* LOGIN MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--bg-alt);
            width: 100%;
            max-width: 960px;
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .modal-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 24px;
            cursor: pointer;
        }

        /* CONTACT */
        form {
            max-width: 640px;
            margin-top: 48px;
        }

        input, textarea, select {
            width: 100%;
            background: var(--bg-alt);
            border: 1px solid var(--border);
            padding: 16px;
            border-radius: 8px;
            color: var(--text);
            font-size: 15px;
            margin-bottom: 24px;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--accent);
        }

        /* FOOTER */
        footer {
            padding: 48px;
            border-top: 1px solid var(--border);
            font-size: 13px;
            color: var(--text-muted);
            text-align: center;
        }

        .disclaimer {
            margin-top: 48px;
            font-size: 13px;
            color: var(--text-muted);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* RESPONSIVE */
        @media (max-width: 1024px) {
            section { padding: 80px 32px; }
            .portfolio-grid { grid-template-columns: 1fr; }
            .charts-grid { grid-template-columns: 1fr; }
            h2 { font-size: 32px; }
            .hero-content h1 { font-size: 52px; }
        }

        @media (max-width: 768px) {
            nav { gap: 16px; font-size: 13px; }
            header { padding: 0 24px; height: 64px; }
            .cta-buttons { flex-direction: column; }
            .gauge-container { width: 180px; height: 180px; }
        }

        .skeleton {
            background: linear-gradient(90deg, #27272a 25%, #3f3f46 50%, #27272a 75%);
            background-size: 200% 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 6px;
        }

        @keyframes skeleton-loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .loading-bar {
            height: 12px;
            margin-bottom: 12px;
        }
        #global-bg-canvas {
    position: fixed;
    inset: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    pointer-events: none;
    background: transparent;
}
/* Altcoin gauge reuse same styles as fear gauge */
#alt-gauge { /* same as #gauge */ }

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(0, 245, 255, 0.6); }
    70% { box-shadow: 0 0 0 15px rgba(0, 245, 255, 0); }
    100% { box-shadow: 0 0 0 0 rgba(0, 245, 255, 0); }
}
#map-pin {
    z-index: 10;
    pointer-events: none;
}
.hamburger {
    display: none;
    flex-direction: column;
    gap: 5px;
    cursor: pointer;
    z-index: 1100;
}

.hamburger span {
    width: 28px;
    height: 3px;
    background: var(--text);
    border-radius: 2px;
    transition: all 0.3s ease;
}

@media (max-width: 1024px) {
    .hamburger { display: flex; }
    nav#main-nav {
        position: fixed;
        top: -100vh;                /* start hidden above */
        left: 0;
        right: 0;
        background: rgba(0,0,0,0.98);
        backdrop-filter: blur(20px);
        flex-direction: column;
        align-items: center;
        padding: 100px 24px 60px;
        gap: 32px;
        transition: top 0.45s cubic-bezier(0.23, 1, 0.32, 1);
        z-index: 999;
    }
    nav#main-nav.nav-open {
        top: 0;
    }
}

.hamburger.active span:nth-child(1) { transform: rotate(45deg) translate(6px, 6px); }
.hamburger.active span:nth-child(2) { opacity: 0; }
.hamburger.active span:nth-child(3) { transform: rotate(-45deg) translate(7px, -7px); }
    </style>
</head>
<body>
    <canvas id="global-bg-canvas" aria-hidden="true"></canvas>
    <header>
        <div class="logo">BroInvest</div>
        <div class="hamburger" id="hamburger">
    <span></span>
    <span></span>
    <span></span>
</div>
        <nav id="main-nav" class="nav-closed">
    <a href="#market-overview">Markets</a>
    <a href="#fear-greed">Fear & Greed</a>
    <a href="#market-dominance">Market & Dominance</a>
    <a href="#alt-season">Alt Season</a>
    <a href="#office">Office</a>
    <a href="#portfolio">Portfolio</a>
    <a href="#performance">Performance</a>
    <a href="#strategy">Strategy</a>
    <a href="#security">Security</a>
    <a href="#team">Team</a>
    <a href="#" id="login-btn">Investor Login</a>
</nav>
    </header>

    <main>
        <!-- HERO -->
        <section id="hero">
            <canvas id="hero-canvas"></canvas>
            <div class="container hero-content">
                <h1>Nexus-class private digital asset investment platform.</h1>
                <p class="value-prop">Precision capital allocation for high-net-worth individuals, family offices, and institutions seeking asymmetric digital asset exposure.</p>
                
                <div id="aum">
                    <span id="aum-number">$0</span>
                    <div class="aum-label">Assets Under Management</div>
                </div>

                <div class="cta-buttons">
                    <a href="#portfolio" class="btn btn-primary">View Portfolio</a>
                    <a href="#" id="login-cta" class="btn btn-secondary">Investor Login</a>
                </div>
            </div>
        </section>

        <!-- LIVE MARKET OVERVIEW -->
        <section id="market-overview">
            <div class="container">
                <h2>Live Market Overview</h2>
                <div id="market-loader" class="grid">
                    <!-- Skeletons will be added by JS -->
                </div>
                <div id="market-grid" class="grid" style="display: none;"></div>
                <div style="text-align: center; margin-top: 24px; font-size: 13px; color: var(--text-muted);" id="last-updated"></div>
            </div>
        </section>

        <!-- FEAR & GREED -->
        <section id="fear-greed">
            <div class="container">
                <h2>Fear &amp; Greed Index</h2>
                <div id="fear-loader" style="text-align: center;">
                    <div class="skeleton loading-bar" style="width: 240px; margin: 48px auto;"></div>
                    <div class="skeleton loading-bar" style="width: 120px; margin: 24px auto;"></div>
                </div>
                
                <div id="fear-content" style="display: none;">
                    <div class="gauge-container">
                        <div id="gauge" class="gauge"></div>
                        <div class="gauge-inner">
                            <div id="fear-value" class="gauge-value">0</div>
                            <div id="fear-class" class="gauge-class">Neutral</div>
                        </div>
                    </div>
                    
                    <div class="historical-bars" id="historical-bars"></div>
                    <div style="text-align: center; margin-top: 32px; font-size: 14px; color: var(--text-muted);">
                        90-day historical trend â€¢ Updated live
                    </div>
                </div>
            </div>
        </section>

        <!-- TOTAL MARKET & DOMINANCE -->
<section id="market-dominance">
    <div class="container">
        <h2>Total Market & Dominance</h2>
        <div id="dominance-loader" style="text-align: center; margin: 80px 0;">
            <div class="skeleton loading-bar" style="width: 300px; margin: 0 auto 32px;"></div>
            <div class="skeleton loading-bar" style="width: 200px; margin: 0 auto;"></div>
        </div>
        <div id="dominance-content" style="display: none;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 32px; margin-top: 48px;">
                <div class="coin-card">
                    <div style="font-size: 18px; font-weight: 600; margin-bottom: 16px;">Total Market Cap</div>
                    <div id="total-mc" style="font-size: 36px; font-weight: 700;"></div>
                    <div id="mc-change" style="font-size: 16px; margin-top: 8px;"></div>
                </div>
                <div class="coin-card">
                    <div style="font-size: 18px; font-weight: 600; margin-bottom: 16px;">BTC Dominance</div>
                    <div id="btc-dom" style="font-size: 36px; font-weight: 700;"></div>
                    <div id="btc-dom-change" style="font-size: 16px; margin-top: 8px;"></div>
                </div>
                <div class="coin-card">
                    <div style="font-size: 18px; font-weight: 600; margin-bottom: 16px;">ETH Dominance</div>
                    <div id="eth-dom" style="font-size: 36px; font-weight: 700;"></div>
                    <div id="eth-dom-change" style="font-size: 16px; margin-top: 8px;"></div>
                </div>
            </div>
            <div style="margin-top: 64px; text-align: center; color: var(--text-muted); font-size: 14px;">
                Others = 100% - (BTC + ETH). Data from CoinGecko. Refreshes every 60s.
            </div>
        </div>
    </div>
</section>

<!-- ALTCOIN SEASON INDEX (below Fear & Greed style) -->
<section id="alt-season">
    <div class="container">
        <h2>Altcoin Season Index</h2>
        <div id="alt-loader" style="text-align: center; margin: 80px 0;">
            <div class="skeleton loading-bar" style="width: 240px; margin: 48px auto;"></div>
            <div class="skeleton loading-bar" style="width: 180px; margin: 24px auto;"></div>
        </div>
        <div id="alt-content" style="display: none; text-align: center;">
            <div class="gauge-container">
                <div id="alt-gauge" class="gauge"></div>
                <div class="gauge-inner">
                    <div id="alt-value" class="gauge-value">0</div>
                    <div id="alt-class" class="gauge-class">Neutral</div>
                </div>
            </div>
            <div style="margin-top: 32px; max-width: 600px; margin-left: auto; margin-right: auto; color: var(--text-muted);">
                Measures strength of altcoins vs BTC over last 90 days.<br>
                >75 = Altseason likely | <25 = BTC season dominant
            </div>
        </div>
    </div>
</section>

<!-- OFFICE LOCATION -->
<section id="office">
    <div class="container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 64px; align-items: center;">
        <div>
            <h2>Our Office</h2>
            <div style="margin-top: 32px; font-size: 16px; line-height: 1.8;">
                <p><strong>BroInvest</strong><br>
                Uzbekistan Street, 116A<br>
                Samarkand, Uzbekistan</p>
                <p style="margin-top: 24px;">ðŸ“ž <a href="tel:+998935030612" style="color: var(--accent); text-decoration: none;">+998 93 503 06 12</a></p>
                <p style="margin-top: 32px; color: var(--text-muted); font-size: 14px;">
                    Open for qualified investors by appointment only.
                </p>
            </div>
        </div>
        
        <div style="position: relative; height: 400px; border: 1px solid var(--border); border-radius: 12px; overflow: hidden; background: #0a0a0a;">
            <div id="map-pin" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 24px; height: 24px; background: var(--accent); border-radius: 50%; box-shadow: 0 0 0 8px rgba(0, 245, 255, 0.3); animation: pulse 2s infinite;"></div>
            <iframe 
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3079.999!2d66.93683!3d39.639216!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMznCsDM4JzIxLjIiTiA2NsKwNTYnMjAuNCJF!5e0!3m2!1sen!2sus!4v1737620000000" 
                width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
            </iframe>
        </div>
    </div>
</section>

        <!-- PORTFOLIO DASHBOARD -->
        <section id="portfolio">
            <div class="container">
                <h2>Portfolio Dashboard (Public View)</h2>
                <p style="max-width: 640px; color: var(--text-muted); margin-bottom: 48px;">
                    Representative allocation demonstrating disciplined capital deployment across digital asset sectors.
                </p>
                
                <div class="portfolio-grid">
                    <div>
                        <div class="donut-container">
                            <canvas id="portfolio-donut" class="donut" width="280" height="280"></canvas>
                        </div>
                    </div>
                    
                    <div>
                        <div class="allocation-list" id="allocation-list"></div>
                        
                        <div style="margin-top: 48px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                <div>YTD Return</div>
                                <div style="color: var(--green);">+41.2%</div>
                            </div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                                <div>1-Year Return</div>
                                <div style="color: var(--green);">+128.7%</div>
                            </div>
                            <div style="display: flex; justify-content: space-between;">
                                <div>Since Inception</div>
                                <div style="color: var(--green);">+312%</div>
                            </div>
                            <div style="margin-top: 32px; padding-top: 24px; border-top: 1px solid var(--border);">
                                <div>Risk Score</div>
                                <div style="font-size: 32px; font-weight: 700; margin-top: 8px;">6.4 / 10</div>
                                <div style="color: var(--text-muted); font-size: 14px;">Moderate with disciplined hedging</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PERFORMANCE & RETURNS -->
        <section id="performance">
            <div class="container">
                <h2>Performance &amp; Returns</h2>
                
                <div class="charts-grid">
                    <div>
                        <div class="chart-container">
                            <canvas id="equity-curve" class="performance-chart" width="600" height="280"></canvas>
                        </div>
                        <div style="text-align: center; margin-top: 12px; font-size: 14px; color: var(--text-muted);">Equity Curve (3Y)</div>
                    </div>
                    
                    <div>
                        <div class="chart-container">
                            <canvas id="drawdown" class="performance-chart" width="600" height="280"></canvas>
                        </div>
                        <div style="text-align: center; margin-top: 12px; font-size: 14px; color: var(--text-muted);">Maximum Drawdown</div>
                    </div>
                </div>
                
                <div style="margin-top: 64px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 32px; text-align: center;">
                    <div>
                        <div style="font-size: 42px; font-weight: 700;">1.82</div>
                        <div style="color: var(--text-muted);">Sharpe Ratio</div>
                    </div>
                    <div>
                        <div style="font-size: 42px; font-weight: 700;">1.31</div>
                        <div style="color: var(--text-muted);">Sortino Ratio</div>
                    </div>
                    <div>
                        <div style="font-size: 42px; font-weight: 700;">18.4%</div>
                        <div style="color: var(--text-muted);">Annualized Volatility</div>
                    </div>
                </div>
                
                <div style="margin-top: 48px; color: var(--text-muted); font-size: 14px;">
                    Benchmark comparison vs BTC (+184%), ETH (+267%), S&amp;P 500 (+52%) over same period. Past performance is not indicative of future results.
                </div>
            </div>
        </section>

        <!-- STRATEGY -->
        <section id="strategy">
            <div class="container">
                <h2>Investment Strategy</h2>
                
                <div class="strategy-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div>
                            <strong>Market Cycle Analysis</strong><br>
                            Multi-timeframe technical and on-chain analysis to identify regime shifts.
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div>
                            <strong>Capital Allocation</strong><br>
                            Dynamic weighting based on conviction tiers, liquidity, and correlation matrices.
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div>
                            <strong>Risk Management</strong><br>
                            Position sizing capped at 8%, trailing stops, and volatility-based hedging.
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div>
                            <strong>Rebalancing &amp; Hedging</strong><br>
                            Quarterly rebalancing with opportunistic tactical overlays.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECURITY & CUSTODY -->
        <section id="security">
            <div class="container">
                <h2>Security &amp; Custody</h2>
                
                <div class="security-grid">
                    <div class="security-item">
                        <strong>Cold Storage</strong><br>
                        98% of assets held in geographically distributed, air-gapped hardware security modules with multi-party computation.
                    </div>
                    <div class="security-item">
                        <strong>Multi-Signature</strong><br>
                        3-of-5 and 4-of-7 approval thresholds across institutional-grade custodians.
                    </div>
                    <div class="security-item">
                        <strong>Operational Security</strong><br>
                        SOC 2 Type II compliant infrastructure, zero-trust architecture, and regular penetration testing.
                    </div>
                    <div class="security-item">
                        <strong>Audits &amp; Compliance</strong><br>
                        Annual third-party audits by top-tier firms. Full regulatory compliance posture maintained.
                    </div>
                </div>
                
                <div class="disclaimer" style="margin-top: 64px;">
                    No guarantees expressed or implied. All investments involve substantial risk of loss.
                </div>
            </div>
        </section>

        <!-- TEAM -->
        <section id="team">
            <div class="container">
                <h2>Team &amp; Governance</h2>
                
                <div class="team-grid">
                    <div class="team-card">
                        <div class="team-avatar">AP</div>
                        <strong>Alex Rivera</strong><br>
                        Founder &amp; CIO<br>
                        18+ years traditional finance, former macro PM at multi-billion AUM hedge fund.
                    </div>
                    <div class="team-card">
                        <div class="team-avatar">SJ</div>
                        <strong>Sarah Kim</strong><br>
                        Head of Research<br>
                        Ex-Glassnode analyst, on-chain forensics specialist.
                    </div>
                    <div class="team-card">
                        <div class="team-avatar">MK</div>
                        <strong>Michael Khan</strong><br>
                        Chief Risk Officer<br>
                        Former Citadel risk lead.
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTACT -->
        <section id="contact">
            <div class="container">
                <h2>Contact &amp; Onboarding</h2>
                
                <form id="contact-form">
                    <input type="text" placeholder="Full Name" required>
                    <input type="email" placeholder="Institutional Email" required>
                    <select required>
                        <option value="">Investor Type</option>
                        <option>Family Office</option>
                        <option>Fund</option>
                        <option>High-Net-Worth Individual</option>
                        <option>Institutional</option>
                    </select>
                    <textarea placeholder="Tell us about your investment objectives..." rows="5"></textarea>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Secure Inquiry</button>
                </form>
                
                <div style="margin-top: 48px; font-size: 14px; color: var(--text-muted);">
                    All submissions are encrypted in transit. Qualified investors only.
                </div>
            </div>
        </section>
    </main>

    <footer>
        Â© 2026 BroInvest. All rights reserved.<br>
        This is not an offer to sell securities. Investments involve risk of loss of principal. 
        Past performance is no guarantee of future results.
    </footer>

    <!-- LOGIN MODAL -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div>Investor Portal â€¢ BroInvest</div>
                <button class="close-modal" id="close-modal">Ã—</button>
            </div>
            
            <div style="padding: 48px;">
                <div style="background: var(--bg); padding: 32px; border-radius: 8px; margin-bottom: 48px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 24px;">
                        <div>Portfolio Value</div>
                        <div style="font-size: 28px; font-weight: 700;">$248.3M</div>
                    </div>
                    <div style="color: var(--green);">+6.4% (30d)</div>
                </div>
                
                <div style="margin-bottom: 32px;">
                    <div style="font-weight: 600; margin-bottom: 16px;">Recent Performance</div>
                    <div style="height: 140px; background: var(--bg); border-radius: 8px; position: relative; overflow: hidden;">
                        <canvas id="modal-equity" width="800" height="140"></canvas>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 32px;">
                    <div>
                        <div style="color: var(--text-muted);">Available for Deposit</div>
                        <div style="font-size: 32px; font-weight: 700; margin-top: 8px;">$0.00</div>
                        <button class="btn btn-secondary" style="margin-top: 16px; opacity: 0.6; cursor: not-allowed;">Deposit (Coming Soon)</button>
                    </div>
                    <div>
                        <div style="color: var(--text-muted);">Withdrawal Queue</div>
                        <div style="font-size: 32px; font-weight: 700; margin-top: 8px;">0 Pending</div>
                        <button class="btn btn-secondary" style="margin-top: 16px; opacity: 0.6; cursor: not-allowed;">Request Withdrawal</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Particle background for hero
        const canvas = document.getElementById('hero-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        let mouseX = 0;
        let mouseY = 0;

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }

        class Particle {
            constructor() {
                this.reset();
            }
            
            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2 + 0.5;
                this.speedX = (Math.random() - 0.5) * 0.3;
                this.speedY = (Math.random() - 0.5) * 0.3;
                this.opacity = Math.random() * 0.4 + 0.1;
            }
            
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                
                // Gentle mouse influence
                const dx = mouseX - this.x;
                const dy = mouseY - this.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < 300) {
                    this.speedX += dx / dist * 0.02;
                    this.speedY += dy / dist * 0.02;
                }
                
                if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) {
                    this.reset();
                }
            }
            
            draw() {
                ctx.save();
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = '#00f5ff';
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < 80; i++) {
                particles.push(new Particle());
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for (let particle of particles) {
                particle.update();
                particle.draw();
            }
            
            requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', () => {
            resizeCanvas();
            initParticles();
        });

        canvas.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        // Text reveal
        function revealElements() {
            const h1 = document.querySelector('.hero-content h1');
            const prop = document.querySelector('.value-prop');
            const aum = document.getElementById('aum');
            const ctas = document.querySelector('.cta-buttons');
            
            setTimeout(() => h1.classList.add('visible'), 400);
            setTimeout(() => prop.classList.add('visible'), 800);
            setTimeout(() => aum.classList.add('visible'), 1200);
            setTimeout(() => ctas.classList.add('visible'), 1600);
        }

        // AUM counter
        function animateAUM() {
            const target = 2230000;
            const aumEl = document.getElementById('aum-number');
            let current = 0;
            const increment = Math.ceil(target / 120);
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                aumEl.textContent = '$' + current.toLocaleString('en-US');
            }, 20);
        }

        // Market data
        let marketData = [];

        async function fetchMarketData() {
            const loader = document.getElementById('market-loader');
            const grid = document.getElementById('market-grid');
            
            loader.innerHTML = '';
            for (let i = 0; i < 8; i++) {
                const skel = document.createElement('div');
                skel.className = 'coin-card';
                skel.innerHTML = `
                    <div class="skeleton loading-bar" style="width: 120px;"></div>
                    <div class="skeleton loading-bar" style="width: 180px; height: 32px;"></div>
                    <div class="skeleton loading-bar" style="width: 80px;"></div>
                    <div style="height: 48px; margin-top: 12px;" class="skeleton"></div>
                `;
                loader.appendChild(skel);
            }
            
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=20&page=1&sparkline=true&price_change_percentage=24h,7d,30d');
                const data = await response.json();
                marketData = data.slice(0, 12); // top 12 for display
                
                loader.style.display = 'none';
                grid.style.display = 'grid';
                grid.innerHTML = '';
                
                marketData.forEach(coin => {
                    const card = document.createElement('div');
                    card.className = 'coin-card';
                    
                    const change24 = parseFloat(coin.price_change_percentage_24h).toFixed(1);
                    const isPositive = change24 > 0;
                    
                    card.innerHTML = `
                        <div class="coin-header">
                            <div>
                                <div style="font-size: 13px; color: var(--text-muted);">${coin.name}</div>
                                <div class="coin-symbol">${coin.symbol.toUpperCase()}</div>
                            </div>
                        </div>
                        <div class="coin-price">$${coin.current_price.toLocaleString()}</div>
                        <div class="change ${isPositive ? 'positive' : 'negative'}">
                            ${isPositive ? '+' : ''}${change24}%
                        </div>
                        <div class="sparkline-container">
                            <canvas class="sparkline" width="240" height="48" data-spark="${coin.sparkline_in_7d.price.join(',')}"></canvas>
                        </div>
                    `;
                    
                    grid.appendChild(card);
                    
                    // Draw sparkline after DOM insert
                    setTimeout(() => {
                        const sparkCanvas = card.querySelector('.sparkline');
                        if (sparkCanvas) {
                            const sparkData = coin.sparkline_in_7d.price;
                            drawSparkline(sparkCanvas, sparkData, isPositive ? '#22c55e' : '#ef4444');
                        }
                    }, 10);
                });
                
                const now = new Date();
                document.getElementById('last-updated').textContent = `Last updated: ${now.toLocaleTimeString()}`;
                
            } catch (error) {
                console.error('Market data fetch failed:', error);
                loader.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 48px; color: var(--text-muted);">Live market data temporarily unavailable. Using cached snapshot.</div>';
            }
        }

        function drawSparkline(canvas, data, color) {
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (!data || data.length < 2) return;
            
            const min = Math.min(...data);
            const max = Math.max(...data);
            const range = max - min || 1;
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 1.8;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.shadowBlur = 4;
            ctx.shadowColor = color;
            
            ctx.beginPath();
            
            const step = canvas.width / (data.length - 1);
            
            data.forEach((val, i) => {
                const x = i * step;
                const normalized = (val - min) / range;
                const y = canvas.height - (normalized * (canvas.height - 12) + 6);
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            
            ctx.stroke();
            
            // Subtle fill
            ctx.lineTo(canvas.width, canvas.height);
            ctx.lineTo(0, canvas.height);
            ctx.fillStyle = color + '22';
            ctx.fill();
        }

        // Fear & Greed
        async function fetchFearGreed() {
            const loader = document.getElementById('fear-loader');
            const content = document.getElementById('fear-content');
            
            try {
                const response = await fetch('https://api.alternative.me/fng/?limit=91');
                const data = await response.json();
                
                if (data.data && data.data.length > 0) {
                    loader.style.display = 'none';
                    content.style.display = 'block';
                    
                    const current = data.data[0];
                    const value = parseInt(current.value);
                    
                    document.getElementById('fear-value').textContent = value;
                    document.getElementById('fear-class').textContent = current.value_classification;
                    
                    // Gauge
                    const gauge = document.getElementById('gauge');
                    const deg = (value / 100) * 360;
                    let gaugeColor = '#22c55e';
                    
                    if (value < 25) gaugeColor = '#ef4444';
                    else if (value < 45) gaugeColor = '#f59e0b';
                    else if (value > 75) gaugeColor = '#eab308';
                    
                    gauge.style.background = `conic-gradient(${gaugeColor} 0deg ${deg}deg, #27272a ${deg}deg 360deg)`;
                    
                    // Historical bars
                    const barsContainer = document.getElementById('historical-bars');
                    barsContainer.innerHTML = '';
                    
                    const recent = data.data.slice(0, 30).reverse(); // oldest first for display
                    
                    recent.forEach(item => {
                        const val = parseInt(item.value);
                        const height = Math.max(20, (val / 100) * 100);
                        
                        let barColor = '#22c55e';
                        if (val < 25) barColor = '#ef4444';
                        else if (val < 45) barColor = '#f59e0b';
                        else if (val > 75) barColor = '#eab308';
                        
                        const bar = document.createElement('div');
                        bar.className = 'hist-bar';
                        bar.style.height = `${height}%`;
                        bar.style.background = barColor;
                        bar.dataset.date = new Date(parseInt(item.timestamp) * 1000).toLocaleDateString('en-US', {month: 'short', day: 'numeric'});
                        barsContainer.appendChild(bar);
                    });
                }
            } catch (error) {
                console.error('Fear & Greed fetch failed:', error);
                loader.innerHTML = '<div style="padding: 48px; color: var(--text-muted);">Index temporarily unavailable.</div>';
            }
        }

        // Portfolio Donut
        function drawPortfolioDonut() {
            const canvas = document.getElementById('portfolio-donut');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 110;
            const innerRadius = 62;
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const allocation = [
                {name: 'Large Cap', percent: 42, color: '#22c55e'},
                {name: 'Layer 1', percent: 26, color: '#eab308'},
                {name: 'AI', percent: 14, color: '#a78bfa'},
                {name: 'DeFi', percent: 11, color: '#60a5fa'},
                {name: 'Infrastructure', percent: 7, color: '#f472b6'}
            ];
            
            let startAngle = -0.5 * Math.PI; // start at top
            
            allocation.forEach(segment => {
                const sliceAngle = (segment.percent / 100) * 2 * Math.PI;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, startAngle, startAngle + sliceAngle);
                ctx.closePath();
                ctx.fillStyle = segment.color;
                ctx.fill();
                
                // Inner cutout
                ctx.beginPath();
                ctx.arc(centerX, centerY, innerRadius, startAngle, startAngle + sliceAngle);
                ctx.lineTo(centerX, centerY);
                ctx.fillStyle = '#000000';
                ctx.fill();
                
                startAngle += sliceAngle;
            });
            
            // Center label
            ctx.fillStyle = '#e5e5e5';
            ctx.font = '700 18px Inter, sans-serif';
            ctx.textAlign = 'center';
            ctx.fillText('ALLOCATION', centerX, centerY - 12);
            
            // Render allocation list
            const list = document.getElementById('allocation-list');
            if (list) {
                list.innerHTML = '';
                allocation.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'alloc-item';
                    div.innerHTML = `
                        <div>${item.name}</div>
                        <div style="display: flex; align-items: center; gap: 12px; width: 140px;">
                            <div class="alloc-bar" style="width: ${item.percent * 1.2}px; background: ${item.color};"></div>
                            <div style="font-weight: 700; width: 32px;">${item.percent}%</div>
                        </div>
                    `;
                    list.appendChild(div);
                });
            }
        }

        // Simple line chart for equity curve and drawdown
        function drawLineChart(canvasId, dataPoints, color, isArea = false) {
            const canvas = document.getElementById(canvasId);
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            const w = canvas.width;
            const h = canvas.height;
            
            ctx.clearRect(0, 0, w, h);
            
            if (dataPoints.length < 2) return;
            
            const minVal = Math.min(...dataPoints);
            const maxVal = Math.max(...dataPoints);
            const range = maxVal - minVal || 1;
            
            ctx.strokeStyle = color;
            ctx.lineWidth = 2.5;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            
            ctx.shadowBlur = 12;
            ctx.shadowColor = color;
            
            ctx.beginPath();
            
            const stepX = w / (dataPoints.length - 1);
            
            dataPoints.forEach((val, i) => {
                const x = i * stepX;
                const normalized = (val - minVal) / range;
                const y = h - (normalized * (h - 32) + 16);
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            });
            
            ctx.stroke();
            
            if (isArea) {
                ctx.lineTo(w, h);
                ctx.lineTo(0, h);
                ctx.fillStyle = color + '18';
                ctx.fill();
            }
            
            // Subtle grid
            ctx.strokeStyle = '#27272a';
            ctx.lineWidth = 1;
            for (let i = 1; i < 5; i++) {
                const y = (h / 5) * i;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(w, y);
                ctx.stroke();
            }
        }

        // Mock performance data
        function drawPerformanceCharts() {
            // Equity curve mock data
            const equityData = [100, 108, 95, 112, 128, 119, 142, 135, 158, 172, 165, 189, 210, 198, 223];
            drawLineChart('equity-curve', equityData, '#22c55e', true);
            
            // Drawdown mock (negative values)
            const drawdownData = [0, -3, -12, -4, -9, -18, -7, -22, -14, -26, -11, -19, -8, -15, -5];
            drawLineChart('drawdown', drawdownData.map(v => Math.abs(v)), '#ef4444', true);
            
            // Modal equity simple line
            const modalCanvas = document.getElementById('modal-equity');
            if (modalCanvas) {
                const mctx = modalCanvas.getContext('2d');
                mctx.strokeStyle = '#22c55e';
                mctx.lineWidth = 2;
                
                mctx.beginPath();
                mctx.moveTo(20, 100);
                mctx.quadraticCurveTo(150, 60, 300, 90);
                mctx.quadraticCurveTo(500, 40, 780, 75);
                mctx.stroke();
            }
        }

        // Login modal
        const loginBtn = document.getElementById('login-btn');
        const loginCta = document.getElementById('login-cta');
        const modal = document.getElementById('login-modal');
        const closeModal = document.getElementById('close-modal');

        function openLogin() {
            modal.style.display = 'flex';
            // Re-draw modal chart if needed
            setTimeout(() => {
                const modalCanvas = document.getElementById('modal-equity');
                if (modalCanvas) {
                    const mctx = modalCanvas.getContext('2d');
                    mctx.clearRect(0, 0, modalCanvas.width, modalCanvas.height);
                    mctx.strokeStyle = '#22c55e';
                    mctx.lineWidth = 2.5;
                    mctx.shadowBlur = 8;
                    mctx.shadowColor = '#22c55e';
                    mctx.beginPath();
                    mctx.moveTo(40, 110);
                    mctx.lineTo(180, 65);
                    mctx.lineTo(340, 95);
                    mctx.lineTo(520, 55);
                    mctx.lineTo(720, 80);
                    mctx.stroke();
                }
            }, 50);
        }

        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            openLogin();
        });

        if (loginCta) {
            loginCta.addEventListener('click', (e) => {
                e.preventDefault();
                openLogin();
            });
        }

        closeModal.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // Contact form
        const contactForm = document.getElementById('contact-form');
        if (contactForm) {
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Inquiry received. A member of our team will contact you within 48 hours.');
                contactForm.reset();
            });
        }

        // Keyboard navigation support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.style.display === 'flex') {
                modal.style.display = 'none';
            }
        });

        // Auto refresh market every 60 seconds
        setInterval(() => {
            if (document.getElementById('market-grid').style.display !== 'none') {
                fetchMarketData();
            }
        }, 60000);

        // Initialize everything
        window.addEventListener('load', () => {
            resizeCanvas();
            initParticles();
            animateParticles();
            revealElements();
            animateAUM();
            
            // Fetch live data
            fetchMarketData();
            fetchFearGreed();
            
            // Draw static charts
            setTimeout(() => {
                drawPortfolioDonut();
                drawPerformanceCharts();
            }, 800);
            
            // Fake live update pulse on AUM every 12s
            setInterval(() => {
                const aumNum = document.getElementById('aum-number');
                if (aumNum) {
                    aumNum.style.transition = 'none';
                    aumNum.style.opacity = '0.6';
                    setTimeout(() => {
                        aumNum.style.transition = 'opacity 0.6s';
                        aumNum.style.opacity = '1';
                    }, 80);
                }
            }, 12000);
        });

        // â”€â”€ Market Dominance, Alt Season, Trending â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function fetchGlobalData() {
    try {
        // Total market + dominance
        const globalRes = await fetch('https://api.coingecko.com/api/v3/global');
        const global = await globalRes.json();
        document.getElementById('total-mc').textContent = '$' + global.data.total_market_cap.usd.toLocaleString();
        const mcCh = global.data.market_cap_change_percentage_24h_usd?.toFixed(2) || '0.00';
        document.getElementById('mc-change').innerHTML = `<span class="${mcCh > 0 ? 'positive' : 'negative'}">${mcCh > 0 ? '+' : ''}${mcCh}%</span> (24h)`;

        const btcDom = global.data.market_cap_percentage.btc?.toFixed(2) || '0';
        const ethDom = global.data.market_cap_percentage.eth?.toFixed(2) || '0';
        document.getElementById('btc-dom').textContent = btcDom + '%';
        document.getElementById('eth-dom').textContent = ethDom + '%';

        document.getElementById('dominance-loader').style.display = 'none';
        document.getElementById('dominance-content').style.display = 'block';

        // Alt season mock (real API rare; using placeholder logic)
        const altScore = Math.round(50 + (Math.random() * 30 - 15)); // 35-65 range mock
        document.getElementById('alt-value').textContent = altScore;
        let altClass = 'Neutral';
        let altColor = '#a1a1aa';
        if (altScore > 75) { altClass = 'Altseason'; altColor = '#22c55e'; }
        else if (altScore < 25) { altClass = 'BTC Season'; altColor = '#ef4444'; }
        document.getElementById('alt-class').textContent = altClass;
        document.getElementById('alt-class').style.color = altColor;
        const deg = (altScore / 100) * 360;
        document.getElementById('alt-gauge').style.background = `conic-gradient(${altColor} 0deg ${deg}deg, #27272a ${deg}deg 360deg)`;

        document.getElementById('alt-loader').style.display = 'none';
        document.getElementById('alt-content').style.display = 'block';

    } catch (e) {
        console.error('Global data error', e);
    }
}

// Call them
window.addEventListener('load', () => {
    // ... existing calls ...
    fetchGlobalData();
    fetchTrending();
});


// Coin list for search/select (top 100)
let coinList = [];

async function loadCoinList() {
    try {
        const res = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1');
        coinList = await res.json();
        
        // Populate portfolio select
        const select = document.getElementById('portfolio-coin-select');
        coinList.forEach(coin => {
            const opt = document.createElement('option');
            opt.value = coin.id;
            opt.textContent = `${coin.name} (${coin.symbol.toUpperCase()})`;
            select.appendChild(opt);
        });
    } catch (e) {
        console.error('Coin list load failed');
    }
}

function renderWatchlist() {
    const empty = document.getElementById('watchlist-empty');
    const grid = document.getElementById('watchlist-grid');
    grid.innerHTML = '';
    
    if (watchlist.length === 0) {
        empty.style.display = 'block';
        grid.style.display = 'none';
        return;
    }
    
    empty.style.display = 'none';
    grid.style.display = 'grid';
    
    watchlist.forEach(id => {
        const coin = coinList.find(c => c.id === id);
        if (!coin) return;
        
        const card = document.createElement('div');
        card.className = 'coin-card';
        card.innerHTML = `
            <div class="coin-header">
                <div>
                    <div style="font-size:13px;color:var(--text-muted);">${coin.name}</div>
                    <div class="coin-symbol">${coin.symbol.toUpperCase()}</div>
                </div>
            </div>
            <div class="coin-price">$${coin.current_price.toLocaleString()}</div>
            <div class="change ${coin.price_change_percentage_24h > 0 ? 'positive' : 'negative'}">
                ${coin.price_change_percentage_24h > 0 ? '+' : ''}${coin.price_change_percentage_24h?.toFixed(1)}%
            </div>
            <button class="remove-btn" data-id="${id}">Ã—</button>
        `;
        grid.appendChild(card);
    });
    
    // Remove buttons
    grid.querySelectorAll('.remove-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const id = btn.dataset.id;
            watchlist = watchlist.filter(c => c !== id);
            localStorage.setItem(WATCHLIST_KEY, JSON.stringify(watchlist));
            renderWatchlist();
        });
    });
}

function renderPortfolio() {
    const empty = document.getElementById('portfolio-empty');
    const table = document.getElementById('portfolio-table');
    const rows = document.getElementById('portfolio-rows');
    rows.innerHTML = '';
    
    if (portfolio.length === 0) {
        empty.style.display = 'block';
        table.style.display = 'none';
        return;
    }
    
    empty.style.display = 'none';
    table.style.display = 'block';
    
    let totalValue = 0;
    let totalCost = 0;
    
    portfolio.forEach((holding, index) => {
        const coin = coinList.find(c => c.id === holding.id);
        if (!coin) return;
        
        const value = holding.quantity * coin.current_price;
        const cost = holding.quantity * holding.buyPrice;
        const pl = value - cost;
        const plPct = cost > 0 ? (pl / cost * 100) : 0;
        
        totalValue += value;
        totalCost += cost;
        
        const row = document.createElement('tr');
        row.className = 'portfolio-row';
        row.innerHTML = `
            <td>${coin.name} (${coin.symbol.toUpperCase()})</td>
            <td style="text-align:right;">${holding.quantity.toLocaleString()}</td>
            <td style="text-align:right;">$${holding.buyPrice.toFixed(2)}</td>
            <td style="text-align:right;">$${coin.current_price.toLocaleString()}</td>
            <td style="text-align:right;">$${value.toLocaleString(undefined, {minimumFractionDigits:2})}</td>
            <td style="text-align:right; color: ${pl >= 0 ? 'var(--green)' : 'var(--red)'}">
                $${pl.toFixed(2)} (${plPct.toFixed(1)}%)
            </td>
            <td><button class="remove-btn" data-index="${index}">Ã—</button></td>
        `;
        rows.appendChild(row);
    });
    
    const totalPl = totalValue - totalCost;
    const totalPlPct = totalCost > 0 ? (totalPl / totalCost * 100) : 0;
    document.getElementById('portfolio-total').innerHTML = `
        Total Value: $${totalValue.toLocaleString(undefined, {minimumFractionDigits:2})} 
        <span style="color: ${totalPl >= 0 ? 'var(--green)' : 'var(--red)'}">
            (P/L: $${totalPl.toFixed(2)} | ${totalPlPct.toFixed(1)}%)
        </span>
    `;
    
    // Remove buttons
    rows.querySelectorAll('.remove-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const idx = parseInt(btn.dataset.index);
            portfolio.splice(idx, 1);
            localStorage.setItem(PORTFOLIO_KEY, JSON.stringify(portfolio));
            renderPortfolio();
        });
    });
}

// Hamburger menu
const hamburger = document.getElementById('hamburger');
const nav = document.getElementById('main-nav');

hamburger?.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    nav.classList.toggle('nav-open');
});

// Close on link click (mobile)
nav?.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
        if (window.innerWidth <= 1024) {
            hamburger.classList.remove('active');
            nav.classList.remove('nav-open');
        }
    });
});

        // â”€â”€ Global subtle network background â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(function() {
    const bgCanvas = document.getElementById('global-bg-canvas');
    if (!bgCanvas) return;
    
    const bgCtx = bgCanvas.getContext('2d');
    let bgParticles = [];
    let bgWidth, bgHeight;
    
    function resizeBg() {
        bgWidth = bgCanvas.width = window.innerWidth;
        bgHeight = bgCanvas.height = window.innerHeight;
    }
    
    class BgNode {
        constructor() {
            this.reset();
        }
        reset() {
            this.x = Math.random() * bgWidth;
            this.y = Math.random() * bgHeight;
            this.size = Math.random() * 1.6 + 0.4;
            this.vx = (Math.random() - 0.5) * 0.15;
            this.vy = (Math.random() - 0.5) * 0.15;
        }
        update() {
            this.x += this.vx;
            this.y += this.vy;
            if (this.x < 0 || this.x > bgWidth || this.y < 0 || this.y > bgHeight) {
                this.reset();
            }
        }
        draw() {
            bgCtx.globalAlpha = 0.25;
            bgCtx.fillStyle = '#00f5ff';
            bgCtx.beginPath();
            bgCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            bgCtx.fill();
        }
    }
    
    function initBgNodes() {
        bgParticles = [];
        const count = Math.min(60, Math.floor((bgWidth * bgHeight) / 30000));
        for (let i = 0; i < count; i++) {
            bgParticles.push(new BgNode());
        }
    }
    
    function drawConnections() {
        bgCtx.strokeStyle = '#00f5ff';
        bgCtx.lineWidth = 0.4;
        bgCtx.globalAlpha = 0.07;
        
        for (let i = 0; i < bgParticles.length; i++) {
            for (let j = i + 1; j < bgParticles.length; j++) {
                const dx = bgParticles[i].x - bgParticles[j].x;
                const dy = bgParticles[i].y - bgParticles[j].y;
                const dist = Math.hypot(dx, dy);
                if (dist < 140) {
                    bgCtx.globalAlpha = 0.07 * (1 - dist / 140);
                    bgCtx.beginPath();
                    bgCtx.moveTo(bgParticles[i].x, bgParticles[i].y);
                    bgCtx.lineTo(bgParticles[j].x, bgParticles[j].y);
                    bgCtx.stroke();
                }
            }
        }
    }
    
    function animateBg() {
        bgCtx.clearRect(0, 0, bgWidth, bgHeight);
        bgParticles.forEach(p => {
            p.update();
            p.draw();
        });
        drawConnections();
        requestAnimationFrame(animateBg);
    }
    
    window.addEventListener('resize', () => {
        resizeBg();
        initBgNodes();
    });
    
    resizeBg();
    initBgNodes();
    animateBg();
})();
    </script>
</body>
</html>